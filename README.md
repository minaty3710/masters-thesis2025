# モデル構成とスクリプト概要

## ベースモデル
- `baseline_model.py`  
  基本となる需要が確定値として与えられているモデル

---

## 動的非ロバストモデル
- `adaptive_model.py`  
  過去の需要に基づくアフィン関数と補助変数を導入したモデル。

---

## 最小楕円体（MVEE）モデル
- `minimum_volume_enclosing_ellipsoid.py`  
  最小楕円体問題を解き、2次元で描画するためのスクリプト。

---

## 動的ロバストモデル（週単位）

### バージョン1（週単位、T=7限定）
- `adaptive_robust_model.py`  
  週長 T=7 の場合にのみ適用可能なロバストモデル。

---

### バージョン2（複数週対応）
- `adaptive_robust_model_ver2.py`  
  複数週（T>7）に対応。週ごとに分割して処理を行う。
  - 入力 `D` が7日以上の場合、7日ごとに分割してループ処理。
  - 第1週が月曜始まりでない場合は `d_bar` および `R` を曜日に合わせてシフト。
    - 例：火曜始まり → `d_bar[1:]`, `R[:,1:]`
  - 第2週以降は通常の月曜始まりで処理。
  - 最終週が7日未満の場合は、必要な分だけスライスして処理。

---

### バージョン3（配送曜日固定スケジュール対応）
- `adaptive_robust_model_ver3.py`  
  ver2では対応できなかった **配送曜日の固定スケジュール** を導入。
  - `R` と `d_bar` を参照する際のみ、該当日の曜日に基づいて処理。

---

### 実験用スクリプト
- `adaptive_robust_model_experiment.py`  
  ver3を対象としたバッチ実験用スクリプト。  
  サンプル数を変更しながら各実験を制御。

---

### バージョン4（曜日決定の事前化）
- `adaptive_robust_model_ver4.py`  
  サンプル抽出時に曜日情報を事前に付加する方式に変更。
  - テストデータでは発注量の決定のみを行う。